@meta-icon-size: 20px;
@meta-post-icon-size: 24px;
@meta-icon-padding: 6px;

// Meta Bar
.meta-bar {
  white-space: nowrap;

  .meta-item {
    &:before {
      content: "\00b7"; // Рарзделительная точка
    }

    &:before,
    .meta-item__common {
      opacity: 0;
    }

    &.state--visible {
      &:before,
      .meta-item__common {
        opacity: .4;
      }
    }
  }
}

// Meta Item
.meta-item {
  white-space: nowrap;
  font-size: @meta-font-size;
  font-family: @font-family-base;

  &,
  &:before,
   {
    margin-right: 1em;
  }

  &:before {
    &:extend(.meta-item__common);
  }

  a {
    border-bottom: none;
  }

  .icon {
    font-style: normal;
    font-size: @meta-icon-size;
    vertical-align: middle;
    user-select: none;
  }

  .spinner {
    top: 2px;
    vertical-align: baseline;
  }
}

.meta-item__content {
  position: relative;
  cursor: pointer;
  display: inline-block;
  vertical-align: middle;
}

.meta-item__common {
  opacity: .4;
  transition: opacity .4s ease, color .4s ease;

  &.icon {
    cursor: default;
  }
}

.meta-item__link {
  &:hover {
    opacity: .6 !important;
  }
}

// Meta Dropdown
.meta-item__dropdown {
  .make-popover();

  &.state--open {
    visibility: visible;
    opacity: 1;
    .transition-transform(~".3s ease, visibility 0s ease 0s, opacity .3s ease");
  }

  &.position-top {
    &:after {
      content: "";
      margin-left: -7px;
      position: absolute;
      left: 50%;
      bottom: initial;
      border-width: 7px 7px 0;
      border-style: solid;
      border-color: @popover-bg transparent transparent;
      .font-null();
    }
  }
}

// Meta Avatar
.meta-item__ava {
  width: @meta-icon-size;
  height: @meta-icon-size;
  margin-right: 2px;
  display: inline-block;
  vertical-align: middle;

  .avatar__text {
    font-size: 15px;
  }
}

// Types
.meta-item--user {
  &:first-child {
    &:before {
      display: none;
    }
  }

  .meta-item__common {
    opacity: 1 !important;
  }

  .meta-item__link:hover {
    opacity: .7 !important;
  }
}

.meta-item--tags {
  white-space: normal;
}

// Показываем мету при наведении на пост
.post {
  .meta-bar {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
  }

  .meta-item {
    margin-right: 40px;

    &:last-child {
      margin-right: 0;
    }

    &:before {
      content: none;
    }

    .meta-item__common {
      opacity: .8;
    }

    .icon {
      font-size: @meta-post-icon-size;
      padding: 0 @meta-icon-padding 0 0;

      &.icon--dots {
        font-size: 19px;
      }
    }

  }

  .meta-item__ava {
    width: @meta-post-icon-size;
    height: @meta-post-icon-size;
    margin-right: 4px;
  }

  .meta-bar__vote {
    padding: 0 6px;
  }

  .meta-item--user {
    flex: 1;
    overflow: hidden;

    .meta-item__content {
      overflow: hidden;
      text-overflow: ellipsis;
      width: 100%;
    }
  }

  .voting {
    margin: 0;
    padding: 0;
    position: relative;
    float: none;
    top: 1px;
    right: auto;
    left: auto;
    background: transparent;
    color: inherit;
    font-size: @meta-font-size;

    &:before {
      font-size: @meta-post-icon-size;
      margin-right: @meta-icon-padding;
    }
  }

  .image__caption {
    .meta-item {
      &:before,
      .meta-item__common {
        opacity: .8;
      }

      .meta-item__link {
        &:hover {
          opacity: 1 !important;
        }
      }
    }
  }
}
